spring.application.name=Simple Trading Bot
server.port=8080
spring.data.redis.host=localhost
spring.data.redis.port=6379
#5 minutes for daily indicators (fallback)
spring.cache.redis.time-to-live=300000

# Trading API Configuration
trading.binance.api.key=YOUR_BINANCE_API_KEY
trading.binance.api.secret=YOUR_BINANCE_API_SECRET

# X API Configuration (optional)
# x.api.key=YOUR_X_API_KEY
# x.api.secret=YOUR_X_API_SECRET

# OpenAPI/Swagger Documentation Configuration
springdoc.api-docs.path=/api-docs
springdoc.swagger-ui.path=/swagger-ui.html
springdoc.swagger-ui.operationsSorter=method
springdoc.swagger-ui.tagsSorter=alpha
springdoc.swagger-ui.tryItOutEnabled=true
springdoc.show-actuator=false

# Resilience4j Configuration

# Rate Limiter Configuration for Binance API
# Binance Futures API Rate Limits:
# - Order endpoints: 100 requests per 10 seconds per IP (10 requests/second)
# - Market data endpoints: 2400 requests per minute per IP (40 requests/second)
# - Account endpoints: 180 requests per minute per IP (3 requests/second)

# Rate limiter for trading operations (orders, leverage, balance)
resilience4j.ratelimiter.instances.binance-trading.limit-for-period=8
resilience4j.ratelimiter.instances.binance-trading.limit-refresh-period=10s
resilience4j.ratelimiter.instances.binance-trading.timeout-duration=5s

# Rate limiter for market data operations (price, OHLCV)
resilience4j.ratelimiter.instances.binance-market.limit-for-period=30
resilience4j.ratelimiter.instances.binance-market.limit-refresh-period=1s
resilience4j.ratelimiter.instances.binance-market.timeout-duration=3s

# Rate limiter for account data operations
resilience4j.ratelimiter.instances.binance-account.limit-for-period=2
resilience4j.ratelimiter.instances.binance-account.limit-refresh-period=1s
resilience4j.ratelimiter.instances.binance-account.timeout-duration=5s

# Circuit Breaker Configuration
resilience4j.circuitbreaker.instances.binance-api.failure-rate-threshold=50
resilience4j.circuitbreaker.instances.binance-api.minimum-number-of-calls=5
resilience4j.circuitbreaker.instances.binance-api.sliding-window-type=count-based
resilience4j.circuitbreaker.instances.binance-api.sliding-window-size=10
resilience4j.circuitbreaker.instances.binance-api.wait-duration-in-open-state=30s
resilience4j.circuitbreaker.instances.binance-api.permitted-number-of-calls-in-half-open-state=3

# Retry Configuration
resilience4j.retry.instances.binance-api.max-attempts=3
resilience4j.retry.instances.binance-api.wait-duration=1s
resilience4j.retry.instances.binance-api.enable-exponential-backoff=true
resilience4j.retry.instances.binance-api.exponential-backoff-multiplier=2

# API Gateway Resilience Configuration

# Gateway Rate Limiters
resilience4j.ratelimiter.instances.gateway-trading.limit-for-period=10
resilience4j.ratelimiter.instances.gateway-trading.limit-refresh-period=1s
resilience4j.ratelimiter.instances.gateway-trading.timeout-duration=3s

resilience4j.ratelimiter.instances.gateway-resilience.limit-for-period=20
resilience4j.ratelimiter.instances.gateway-resilience.limit-refresh-period=1s
resilience4j.ratelimiter.instances.gateway-resilience.timeout-duration=2s

resilience4j.ratelimiter.instances.gateway-docs.limit-for-period=50
resilience4j.ratelimiter.instances.gateway-docs.limit-refresh-period=1s
resilience4j.ratelimiter.instances.gateway-docs.timeout-duration=2s

# Gateway Circuit Breakers
resilience4j.circuitbreaker.instances.gateway-trading.failure-rate-threshold=60
resilience4j.circuitbreaker.instances.gateway-trading.minimum-number-of-calls=5
resilience4j.circuitbreaker.instances.gateway-trading.sliding-window-size=10
resilience4j.circuitbreaker.instances.gateway-trading.wait-duration-in-open-state=30s

resilience4j.circuitbreaker.instances.gateway-resilience.failure-rate-threshold=70
resilience4j.circuitbreaker.instances.gateway-resilience.minimum-number-of-calls=3
resilience4j.circuitbreaker.instances.gateway-resilience.sliding-window-size=5
resilience4j.circuitbreaker.instances.gateway-resilience.wait-duration-in-open-state=15s

resilience4j.circuitbreaker.instances.gateway-docs.failure-rate-threshold=80
resilience4j.circuitbreaker.instances.gateway-docs.minimum-number-of-calls=3
resilience4j.circuitbreaker.instances.gateway-docs.sliding-window-size=5
resilience4j.circuitbreaker.instances.gateway-docs.wait-duration-in-open-state=10s

# Gateway Retry Configuration
resilience4j.retry.instances.gateway-trading.max-attempts=3
resilience4j.retry.instances.gateway-trading.wait-duration=500ms
resilience4j.retry.instances.gateway-trading.enable-exponential-backoff=true

resilience4j.retry.instances.gateway-resilience.max-attempts=2
resilience4j.retry.instances.gateway-resilience.wait-duration=200ms