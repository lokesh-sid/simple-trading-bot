{
  "info": {
    "name": "Trading Bot Multi-Bot API",
    "description": "Complete API collection for testing multi-bot trading system with backend and gateway endpoints",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "version": "2.0.0"
  },
  "variable": [
    {
      "key": "baseUrl",
      "value": "http://localhost:8080",
      "type": "string"
    },
    {
      "key": "botId",
      "value": "",
      "type": "string"
    },
    {
      "key": "bot1Id",
      "value": "",
      "type": "string"
    },
    {
      "key": "bot2Id",
      "value": "",
      "type": "string"
    }
  ],
  "item": [
    {
      "name": "Backend API",
      "item": [
        {
          "name": "Bot Management",
          "item": [
            {
              "name": "Create Bot",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "exec": [
                      "pm.test(\"Status code is 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Response has botId\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('botId');",
                      "    pm.collectionVariables.set('botId', jsonData.botId);",
                      "});"
                    ]
                  }
                }
              ],
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "url": {
                  "raw": "{{baseUrl}}/api/bots",
                  "host": ["{{baseUrl}}"],
                  "path": ["api", "bots"]
                }
              }
            },
            {
              "name": "List All Bots",
              "request": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{baseUrl}}/api/bots",
                  "host": ["{{baseUrl}}"],
                  "path": ["api", "bots"]
                }
              }
            },
            {
              "name": "Delete Bot",
              "request": {
                "method": "DELETE",
                "header": [],
                "url": {
                  "raw": "{{baseUrl}}/api/bots/{{botId}}",
                  "host": ["{{baseUrl}}"],
                  "path": ["api", "bots", "{{botId}}"]
                }
              }
            }
          ]
        },
        {
          "name": "Bot Operations",
          "item": [
            {
              "name": "Start Bot (LONG/Paper)",
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"direction\": \"LONG\",\n  \"paper\": true\n}"
                },
                "url": {
                  "raw": "{{baseUrl}}/api/bots/{{botId}}/start",
                  "host": ["{{baseUrl}}"],
                  "path": ["api", "bots", "{{botId}}", "start"]
                }
              }
            },
            {
              "name": "Start Bot (SHORT/Paper)",
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"direction\": \"SHORT\",\n  \"paper\": true\n}"
                },
                "url": {
                  "raw": "{{baseUrl}}/api/bots/{{botId}}/start",
                  "host": ["{{baseUrl}}"],
                  "path": ["api", "bots", "{{botId}}", "start"]
                }
              }
            },
            {
              "name": "Stop Bot",
              "request": {
                "method": "PUT",
                "header": [],
                "url": {
                  "raw": "{{baseUrl}}/api/bots/{{botId}}/stop",
                  "host": ["{{baseUrl}}"],
                  "path": ["api", "bots", "{{botId}}", "stop"]
                }
              }
            },
            {
              "name": "Get Bot Status",
              "request": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{baseUrl}}/api/bots/{{botId}}/status",
                  "host": ["{{baseUrl}}"],
                  "path": ["api", "bots", "{{botId}}", "status"]
                }
              }
            }
          ]
        },
        {
          "name": "Bot Configuration",
          "item": [
            {
              "name": "Update Leverage",
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"leverage\": 10\n}"
                },
                "url": {
                  "raw": "{{baseUrl}}/api/bots/{{botId}}/leverage",
                  "host": ["{{baseUrl}}"],
                  "path": ["api", "bots", "{{botId}}", "leverage"]
                }
              }
            },
            {
              "name": "Enable Sentiment Analysis",
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"enable\": true\n}"
                },
                "url": {
                  "raw": "{{baseUrl}}/api/bots/{{botId}}/sentiment",
                  "host": ["{{baseUrl}}"],
                  "path": ["api", "bots", "{{botId}}", "sentiment"]
                }
              }
            },
            {
              "name": "Disable Sentiment Analysis",
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"enable\": false\n}"
                },
                "url": {
                  "raw": "{{baseUrl}}/api/bots/{{botId}}/sentiment",
                  "host": ["{{baseUrl}}"],
                  "path": ["api", "bots", "{{botId}}", "sentiment"]
                }
              }
            }
          ]
        }
      ]
    },
    {
      "name": "Gateway API",
      "item": [
        {
          "name": "Bot Management",
          "item": [
            {
              "name": "Create Bot via Gateway",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "exec": [
                      "pm.test(\"Status code is 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Response has botId\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('botId');",
                      "    pm.collectionVariables.set('botId', jsonData.botId);",
                      "});"
                    ]
                  }
                }
              ],
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Client-ID",
                    "value": "postman-client"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer test-token"
                  }
                ],
                "url": {
                  "raw": "{{baseUrl}}/gateway/api/bots",
                  "host": ["{{baseUrl}}"],
                  "path": ["gateway", "api", "bots"]
                }
              }
            },
            {
              "name": "List All Bots via Gateway",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "X-Client-ID",
                    "value": "postman-client"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer test-token"
                  }
                ],
                "url": {
                  "raw": "{{baseUrl}}/gateway/api/bots",
                  "host": ["{{baseUrl}}"],
                  "path": ["gateway", "api", "bots"]
                }
              }
            },
            {
              "name": "Delete Bot via Gateway",
              "request": {
                "method": "DELETE",
                "header": [
                  {
                    "key": "X-Client-ID",
                    "value": "postman-client"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer test-token"
                  }
                ],
                "url": {
                  "raw": "{{baseUrl}}/gateway/api/bots/{{botId}}",
                  "host": ["{{baseUrl}}"],
                  "path": ["gateway", "api", "bots", "{{botId}}"]
                }
              }
            }
          ]
        },
        {
          "name": "Bot Operations",
          "item": [
            {
              "name": "Start Bot via Gateway",
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Client-ID",
                    "value": "postman-client"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer test-token"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"direction\": \"LONG\",\n  \"paper\": true\n}"
                },
                "url": {
                  "raw": "{{baseUrl}}/gateway/api/bots/{{botId}}/start",
                  "host": ["{{baseUrl}}"],
                  "path": ["gateway", "api", "bots", "{{botId}}", "start"]
                }
              }
            },
            {
              "name": "Stop Bot via Gateway",
              "request": {
                "method": "PUT",
                "header": [
                  {
                    "key": "X-Client-ID",
                    "value": "postman-client"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer test-token"
                  }
                ],
                "url": {
                  "raw": "{{baseUrl}}/gateway/api/bots/{{botId}}/stop",
                  "host": ["{{baseUrl}}"],
                  "path": ["gateway", "api", "bots", "{{botId}}", "stop"]
                }
              }
            },
            {
              "name": "Get Bot Status via Gateway",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "X-Client-ID",
                    "value": "postman-client"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer test-token"
                  }
                ],
                "url": {
                  "raw": "{{baseUrl}}/gateway/api/bots/{{botId}}/status",
                  "host": ["{{baseUrl}}"],
                  "path": ["gateway", "api", "bots", "{{botId}}", "status"]
                }
              }
            }
          ]
        },
        {
          "name": "Gateway Health",
          "item": [
            {
              "name": "Gateway Health Check",
              "request": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{baseUrl}}/gateway/health",
                  "host": ["{{baseUrl}}"],
                  "path": ["gateway", "health"]
                }
              }
            },
            {
              "name": "Gateway Info",
              "request": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{baseUrl}}/gateway/info",
                  "host": ["{{baseUrl}}"],
                  "path": ["gateway", "info"]
                }
              }
            }
          ]
        },
        {
          "name": "Resilience Metrics",
          "item": [
            {
              "name": "Rate Limiters",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "X-Client-ID",
                    "value": "postman-client"
                  }
                ],
                "url": {
                  "raw": "{{baseUrl}}/gateway/api/resilience/rate-limiters",
                  "host": ["{{baseUrl}}"],
                  "path": ["gateway", "api", "resilience", "rate-limiters"]
                }
              }
            },
            {
              "name": "Circuit Breaker",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "X-Client-ID",
                    "value": "postman-client"
                  }
                ],
                "url": {
                  "raw": "{{baseUrl}}/gateway/api/resilience/circuit-breaker",
                  "host": ["{{baseUrl}}"],
                  "path": ["gateway", "api", "resilience", "circuit-breaker"]
                }
              }
            },
            {
              "name": "Retry Metrics",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "X-Client-ID",
                    "value": "postman-client"
                  }
                ],
                "url": {
                  "raw": "{{baseUrl}}/gateway/api/resilience/retry",
                  "host": ["{{baseUrl}}"],
                  "path": ["gateway", "api", "resilience", "retry"]
                }
              }
            }
          ]
        }
      ]
    }
  ]
}
